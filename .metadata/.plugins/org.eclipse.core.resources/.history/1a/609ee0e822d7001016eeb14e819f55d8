package multithreading;

public class Demo implements Runnable {

	String res1 = "Java";
	String res2 = "SQL";
	String res3 = "DSA";

	public void run() {
		String name = Thread.currentThread().getName();

		if(name.equals("STUDENT1")) {
			try {
				Thread.sleep(3000);
				synchronized(res1){
					System.out.println("student 1 is acured res1 "+ res1);
					Thread.sleep(3000);

				
				synchronized(res2){
					System.out.println("student 1 is acured res2 "+ res2);
					Thread.sleep(3000);

				
				synchronized(res3){
					System.out.println("student 1 is acured res3 "+ res3);


				}
				}
				}
			}catch(Exception e) {
				e.printStackTrace();
			}
		}else{
			try {
				Thread.sleep(3000);
				synchronized(res1){
					System.out.println("student 2 is acured res1 "+ res3);
					Thread.sleep(3000);

				
				synchronized(res2){
					System.out.println("student 2 is acured res2 "+ res2);
					Thread.sleep(3000);

				
				synchronized(res3){
					System.out.println("student 2 is acured res3 "+ res1);


				}
				}
				}
			}catch(Exception e) {
				e.printStackTrace();
			}
		}

		}

		public static void main(String[] args) {
			Demo d1 = new Demo();
			Thread t1 = new Thread(d1);
			t1.setName("STUDENT1");
			t1.start();
			Thread t2 = new Thread(d1);

			t2.setName("STUDENT2");
			t2.start();

		}

	}
